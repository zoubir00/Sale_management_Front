
<!-- Add the "new article" button here -->
<div class="row">
  <div class="text-end mb-3 "><button class="btn btn-outline-primary"  (click)="createarticle()">
    <i class="bi bi-patch-plus"></i> <span> {{'::Newarticle' | abpLocalization}}</span>
</button></div>
</div>

<div class="row">
  <h2 class="text-start text-secondary" *ngIf="!isLoading">Articles list</h2>
</div>
 <!-- load -->
<div *ngIf="isLoading" class="flex flex-wrap align-items-center justify-content-center">
  <div class="socket">
    <div class="gel center-gel">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c1 r1">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c2 r1">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c3 r1">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c4 r1">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c5 r1">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c6 r1">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    
    <div class="gel c7 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    
    <div class="gel c8 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c9 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c10 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c11 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c12 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c13 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c14 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c15 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c16 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c17 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c18 r2">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c19 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c20 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c21 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c22 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c23 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c24 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c25 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c26 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c28 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c29 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c30 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c31 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c32 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c33 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c34 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c35 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c36 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    <div class="gel c37 r3">
      <div class="hex-brick h1"></div>
      <div class="hex-brick h2"></div>
      <div class="hex-brick h3"></div>
    </div>
    
  </div>
</div>
<table class="table table-striped table-hover" *ngIf="!isLoading">
    <thead>
      <tr>
        <th scope="col"></th>
         <th scope="col">Image</th>
        <th scope="col">Title</th> 
        <th scope="col">Description</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let article of articles;let i=index">
        <td scope="col"><i class="fa fa-star-o" aria-hidden="true"></i></td>
        <td><img class="rounded img-rounded" [src]="'assets/images/articles/'+article.image" width="80" height="60"></td>
        <td class="text-black">{{article.libelle}}</td>
        <td class="text-black">{{article.description}}</td>
        <td class="text-black">{{(article.price | number :'1.2-2')+' MAD' }}</td>
        <td class="text-black">{{article.quantityinStock}}</td>
        <td>
          <div class="btn-group custom-dropdown dropend">
            <button type="button" class="btn btn-secondary rounded-circle" data-bs-toggle="dropdown" aria-expanded="false">
              :
            </button>
            <ul class="dropdown-menu">
              <li><button class="dropdown-item" [routerLink]="['/articleDetail/', article.id]"><i class="bi bi-info-circle text-info"></i> Details</button></li>
              <li><button class="dropdown-item" (click)=" editArticle(article.id)"><i class="bi bi-pencil-square text-primary"></i> Edit</button></li>
              <li><button class="dropdown-item" (click)="delete(article.id)"><i class="bi bi-x-lg text-danger"></i> Delete</button></li>
            </ul>
          </div>
        </td>
        <!-- <td><button class="btn btn-primary" (click)=" editArticle(article.id)"><i class="bi bi-pencil-square"></i></button></td> -->
        <!-- <td><button class="btn btn-danger" (click)="delete(article.id)"><i class="bi bi-trash3"></i></button></td> -->
        <!-- <td><button class="btn btn-outline-primary" [routerLink]="['/articleDetail/', article.id]"><i class="bi bi-info-circle"></i> View Details</button></td>   -->
      </tr>
    </tbody>
  </table>
  <abp-modal class="modal-dialog modal-dialog-centered modal-dialog-scrollable" [(visible)]="isModalOpen">
    <ng-template #abpHeader>
      <h3>{{ (selectedArticle.id ? '::Edit' : '::Newarticle' ) | abpLocalization }}</h3>
    </ng-template>
   
  
    <ng-template #abpBody>
      <form [formGroup]="form" (ngSubmit)="save()">
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="floatingLibelle" formControlName="libelle" placeholder="Ex:Laptop" autofocus>
          <label for="floatingLibelle">Title</label>
        </div>
         <div class="form-floating mb-3">
          <input type="file" class="form-control" id="floatingImage" (change)="onFileSelected($event)"  formControlName="image" placeholder="Ex:image"   >
          <label for="floatingImage">Image</label>
        </div>
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="floatingDescription" formControlName="description" placeholder="Ex:describe the artic">
          <label for="floatingDescription">Description</label>
        </div>
       
        <div class="form-floating mb-3">
          <input type="number" class="form-control" id="floatingPrice" formControlName="price" placeholder="Ex:00.00 " maxlength="10" >
          <label for="floatingPrice">Price (MAD)</label>
        </div>
        <div class="form-floating mb-3">
          <input type="number" class="form-control" id="floatingiQuant" formControlName="quantityinStock" placeholder="Ex:2" maxlength="10" >
          <label for="floatingiQuant">Quantity in stock</label>
        </div>
    
      </form>  
    </ng-template>
  
    <ng-template #abpFooter>
      <button type="button" class="btn btn-outline-secondary" abpClose>Close</button>
       <!--added save button-->
    <button class="btn btn-outline-primary" (click)="save()" [disabled]="form.invalid">
      <i class="fa fa-check mr-1"></i>
      Valid
  </button>
    </ng-template>
  </abp-modal>