
<!-- OPEN MODAL button -->
<div class="justify-content-end mb-3"><button class="btn btn-primary" (click)="OpenModal();">
  <span>{{'::NewVente' | abpLocalization}}</span>
</button></div>
<table class="table table-striped">
    <thead>
      <tr>
        <th scope="col"></th>
        <th scope="col">Date Vente</th>
        <th scope="col">Client first name</th>
        <th scope="col">Client last name</th>
        <th scope="col">Articles</th>
        <th scope="col">Quantity</th>
        <th scope="col">Total Amount</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let vente of ventes; let i=index">
        <td>{{i+1}}</td>
        <td>{{vente.dateVente | date: 'dd/MM/yyyy'}}</td>
        <td>{{vente.clientFName}}</td>
        <td>{{vente.clientLName}}</td>
        <td>{{vente.articleVendue}}</td>
        <td>{{vente.quantityVendue}}</td>
        <td>{{vente.prixTotal}} DH</td>
        <td><button class="btn btn-warning" (click)="delete(client.id)">Delete Vente</button> 
        </td>
      </tr>

    </tbody>
  </table>
  
  <!-- Create vente modal -->
  <abp-modal [(visible)]="isModalOpen">
    <ng-template #abpHeader>
      <h3>{{ '::NewVente'  | abpLocalization }}</h3>
    </ng-template>
   
  
    <ng-template #abpBody>
       <form [formGroup]="venteForm" (ngSubmit)="CreateVente();">
        <div class="form-group">
          <label for="clientId">Clients</label>
          <select id="clientId" class="form-control" formControlName="clientId">
            <option value="0" selected>Select a Client</option>
            <option *ngFor="let client of clients" [value]="client.id">{{ client.lName }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="articleId">Select an Article:</label>
          <select id="articleId" class="form-control" formControlName="articleId">
            <option value="0" selected>Select an article</option>
            <option *ngFor="let article of articles" [value]="article.id">{{ article.libelle }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="quantity">Quantity wanted</label>
          <input type="number" id="quantity" class="form-control" formControlName="quantity">
        </div>
       </form>
    </ng-template>
  
    <ng-template #abpFooter>
      <button type="button" class="btn btn-secondary" abpClose>Close</button>
       <!--added save button-->
    <button class="btn btn-primary" (click)="CreateVente()" [disabled]="form.invalid">
      <i class="fa fa-check mr-1"></i>
      Valid
  </button>
    </ng-template>
  </abp-modal>

