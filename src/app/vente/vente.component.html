
<!-- OPEN MODAL button -->
<div class="row">
  <div class="text-end mb-3">
    <button class="btn btn-outline-primary" (click)="onCreate();">
      <i class="bi bi-plus-square-dotted"> </i> New sale
    </button>
  </div>
  
  <!--  -->
  <div class="col text-center">
    <h1 class="text-start text-secondary">Sales list</h1>
  </div>
</div>

 <div *ngIf="loading" class="loading-spinner">
  <mat-progress-spinner mode="indeterminate" color="warn"></mat-progress-spinner>
</div> 
<div class="row">
  
  <div class="col"> <mat-paginator
    [length]="totalItems"
    [pageSize]="pageSize"
    [pageIndex]="pageIndex"
    [pageSizeOptions]="[5, 10, 25, 100]"
    (page)="onPageChange($event)">
  </mat-paginator></div>
</div>
<table class="table table-striped table-hover"  *ngIf="!loading">
    <thead>
      <tr>
        <th scope="col">Sale Code</th>
        <th scope="col">Sale date</th>
        <th scope="col">Client Name</th>     
        <th scope="col">Quantity sold</th>
        <th scope="col">Total Amount</th> 
        <th>Actions</th> 
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let vente of ventes.slice(pageIndex * pageSize, (pageIndex + 1) * pageSize);let i=index">  
        <tr>
          <td class="text-black">{{vente.id}}</td>
          <td class="text-black">{{ vente.dateVente | date: 'MM/dd/yyyy' }}</td>
          <td class="text-black">{{ vente.clientName}} </td>
          <td class="text-black">{{ vente.qtyTotal}} </td>
          <td class="text-black">{{ (vente.totalAmount |number:'1.2-2')+' MAD' }} </td>  
          <td>
            <div class="btn-group custom-dropdown dropend">
              <button type="button" class="btn btn-secondary rounded-circle" data-bs-toggle="dropdown" aria-expanded="false">
                :
              </button>
              <ul class="dropdown-menu">
                <li>
                  <button class="dropdown-item" [routerLink]="['/saledetails/',vente.id]"><i class="bi bi-info-circle text-info"></i> Get Bill</button>
                </li>
                <li><button class="dropdown-item" [routerLink]="['/editVente/',vente.id]"><i class="bi bi-pencil-square text-primary"></i> Edit</button>
                </li>
                <li><button class="dropdown-item"  (click)="deleteVente(vente.id)"><i class="bi bi-x-lg text-danger"></i> Delete</button></li>
              </ul>
            </div>
          </td>
          <!-- <td>
            <button class="btn btn-outline-primary" [routerLink]="['/editVente/',vente.id]"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button>
          </td> -->
           <!-- <td><button class="btn btn-outline-danger" (click)="deleteVente(vente.id)"><i class="bi bi-trash3"></i></button></td>  -->
        </tr>
      </ng-container>
    </tbody>
  </table>
  <br>
  <!--  -->

